<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-28","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Litho" href="/opensearch.xml"><title data-react-helmet="true">Nested scrolling and measurement | Litho</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://fblitho.com/docs/sections/hscrolls/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Nested scrolling and measurement | Litho"><meta data-react-helmet="true" name="description" content="This page details ways of measuring the height of a horizontal scrolling list (h-scroll)."><meta data-react-helmet="true" property="og:description" content="This page details ways of measuring the height of a horizontal scrolling list (h-scroll)."><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fblitho.com/docs/sections/hscrolls/"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/sections/hscrolls/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/sections/hscrolls/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.500f1454.css">
<link rel="preload" href="/assets/js/runtime~main.77f72675.js" as="script">
<link rel="preload" href="/assets/js/main.4058c681.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="color:#091E42" role="banner"><div class="announcementBarContent_3EUC">Support Ukraine 🇺🇦 <a target="_blank" rel="noopener noreferrer" href="https://opensource.facebook.com/support-ukraine">Help Provide Humanitarian Aid to Ukraine</a></div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Litho</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro/motivation/">Docs</a><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a class="navbar__item navbar__link" href="/docs/tutorial/overview/">Tutorial</a><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">What is Litho?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Main Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Building lists</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/start/">The Basics: DiffSection and GroupSection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/recycler-collection-component/">Adding and adapting RecyclerCollection to your App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/best-practices/">Best Practices and Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sections/hscrolls/">Nested scrolling and measurement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/api-overview/">API 📄: annotations, events and lifecycles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/working-ranges/">Advanced: Prefetch and Pagination</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/services/">Advanced: Granular Dependency Injection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/view-support/">Advanced: Mixing with Android Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/diff-sections/">Advanced: Writing your own DiffSection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sections/architecture/">Internal 🏗: Sections implementation architecture</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Animations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Visibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Accessibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Widgets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Adopting Litho</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Codegen APIs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tooling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_1lV3"><div class="docItemContainer_zt2Y"><article><header><h1 class="docTitle_1y8q">Nested scrolling and measurement</h1></header><div class="markdown"><p>This page details ways of measuring the height of a horizontal scrolling list (h-scroll).</p><p>Vertical scrolling lists usually fill the width of the screen so it&#x27;s easy to measure them with a fixed size. Working with h-scroll is not always trivial because different height settings have different performance implications.</p><p>To see how to create a h-scroll, using a <code>RecyclerCollectionComponent</code>, refer to the &#x27;Horizontal Lists&#x27; section of the <a href="/docs/sections/recycler-collection-component/#horizontal-lists">Adding and Adapting RecyclerCollection to your App</a> page.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="setting-the-height-of-a-horizontal-recyclercollectioncomponent">Setting the Height of a Horizontal RecyclerCollectionComponent<a aria-hidden="true" class="hash-link" href="#setting-the-height-of-a-horizontal-recyclercollectioncomponent" title="Direct link to heading">​</a></h2><p>The code samples below are extracted from the <a href="https://github.com/facebook/litho/tree/master/codelabs/hscroll-height" target="_blank" rel="noopener noreferrer">h-scroll height codelab</a>.</p><p>You can set the height of a horizontally scrolling <code>RecyclerCollectionComponent</code> using three methods:</p><ul><li><a href="#fixed-height-method">Fixed height method</a> - a fixed height is set on the H-Scroll component.  This is the most performant method and is recommended where possible.</li><li><a href="#unknown-height-method">Unknown height method</a> - height is not known when the Component is created so let the h-scroll set its height to the height of the first item.</li><li><a href="#dynamic-height-method">Dynamic height method</a> - lets the h-scroll dynamically change its height to fit the tallest item.  This is the least performant method.</li></ul><p>Each of these methods is detailed in the following sub-sections.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="fixed-height-method">Fixed Height Method<a aria-hidden="true" class="hash-link" href="#fixed-height-method" title="Direct link to heading">​</a></h3><p>Using this method, a fixed height is set on the h-Scroll Component.  The client knows the height of the h-scroll when it creates it, but it cannot be changed once the h-scroll gets measured.</p><p>Children of this h-scroll are measured with, at most, the height of the h-scroll.  Taller children will be clipped, and smaller children will be positioned at the start of the h-scroll.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In Litho, this is the most performant (efficient) way to set the height of a h-scroll. It&#x27;s recommended to use this option whenever possible.</p></div></div><p>To use this preferred method, set the height through the <code>height</code> prop on your <code>RecyclerCollectionComponent</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">@LayoutSpec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object FixedHeightHscrollComponentSpec {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @OnCreateLayout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fun onCreateLayout(c: ComponentContext, @Prop colors: List&lt;Int&gt;): Component {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return RecyclerCollectionComponent.create(c)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .recyclerConfiguration(ListRecyclerConfiguration.create().orientation(OrientationHelper.HORIZONTAL).build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .section(DataDiffSection.create&lt;Int&gt;(SectionContext(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .data(colors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .renderEventHandler(FixedHeightHscrollComponent.onRender(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .heightDip(150f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @OnEvent(RenderEvent::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fun onRender(c: ComponentContext, @FromEvent model: Int): RenderInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ComponentRenderInfo.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .component(SolidColor.create(c).color(model).heightDip(100f).widthDip(100f))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The code produces the structure shown in the following image.</p><p><img alt="fixedheight" src="data:image/png;base64,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"></p><p>Notice the grey background is the actual bounds of the h-scroll, and the children have smaller heights.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="unknown-height-method">Unknown Height Method<a aria-hidden="true" class="hash-link" href="#unknown-height-method" title="Direct link to heading">​</a></h3><p>Using this method, the height is unknown when the Component is created. The height is determined by measuring the first child of the h-scroll and setting that as the height of the h-scroll.</p><p>This measurement occurs only when the h-scroll is first measured, after which the height cannot be changed. All other children heights will be measured with, at most, the height of the h-scroll and position at the start of the h-scroll.</p><p>To enable this, instead of passing a <code>height</code> prop on the <code>RecyclerCollectionComponent</code>, specify it through the <code>canMeasureRecycler</code> prop it should measure itself:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">@LayoutSpec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object MeasureFirstItemForHeightHscrollComponentSpec {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @OnCreateLayout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fun onCreateLayout(c: ComponentContext, @Prop colors: List&lt;Int&gt;): Component {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return RecyclerCollectionComponent.create(c)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .recyclerConfiguration(ListRecyclerConfiguration.create().orientation(OrientationHelper.HORIZONTAL).build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .section(DataDiffSection.create&lt;Int&gt;(SectionContext(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .data(colors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .renderEventHandler(MeasureFirstItemForHeightHscrollComponent.onRender(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .canMeasureRecycler(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @OnEvent(RenderEvent::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fun onRender(c: ComponentContext, @FromEvent model: Int, @FromEvent index: Int): RenderInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (index == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ComponentRenderInfo.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .component(SolidColor.create(c).color(model).heightDip(100f).widthDip(100f))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (index == 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         return ComponentRenderInfo.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           component(SolidColor.create(c).color(model).heightDip(200f).widthDip(100f))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return ComponentRenderInfo.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .component(SolidColor.create(c).color(model).heightDip(50f).widthDip(100f))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The code produces the structure shown in the following image.</p><p><img alt="canmeasure" src="data:image/png;base64,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"></p><p>In this case, the first child has a height of 100dip; the second child has a height of 200dip, but it&#x27;s cropped to fit the size of the h-scroll as determined by the first child. Once measured like this, the height cannot be changed. The grey background represents the bounds of the h-scroll.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you don&#x27;t set a non-zero height on the <code>RecyclerCollectionComponent</code> and <code>canMeasureRecycler</code> is not enabled, your RecyclerCollectionComponent will end up with a height of zero.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="dynamic-height-method">Dynamic Height Method<a aria-hidden="true" class="hash-link" href="#dynamic-height-method" title="Direct link to heading">​</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>This is the least performant (inefficient) method. Enabling this option should be done only if absolutely needed and should especially be avoided for lists with infinite scrolling.</p></div></div><p>Using this method, the H-scroll dynamically changes its height to fit the tallest item.</p><p>H-Scrolls can be configured to support items of different height or remeasuring of the height if the height of the children could change after the initial measurement.</p><p>In this case:</p><ul><li>The initial height of the h-scroll is determined by the height of the tallest child.</li><li>If a child wants to expand to become taller than the current height of the h-scroll, the h-scroll will be remeasured with the new height of the child. Other items will not be remeasured.</li><li>If the child with the biggest height collapses, then the h-scroll will again determine what its height should be by remeasuring all the items.</li></ul><p>Measuring all the children to determine the tallest comes with a high-performance cost, especially for infinite loading h-scrolls when the height needs to be remeasured every time new items are inserted.</p><p>If you must use this method, you can pass your own <a href="/javadoc/com/facebook/litho/sections/widget/RecyclerConfiguration.html" target="_blank" rel="noopener noreferrer">RecyclerConfiguration</a> to the <code>RecyclerCollectionComponent</code> and enable <code>hasDynamicItemHeight</code> on the <a href="/javadoc/com/facebook/litho/sections/widget/RecyclerBinderConfiguration.html" target="_blank" rel="noopener noreferrer">RecyclerBinderConfigurationer</a> that is used to create the <code>RecyclerConfiguration</code>, as shown in the following code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">RecyclerCollectionComponent.create(c)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .recyclerConfiguration(ListRecyclerConfiguration.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .recyclerBinderConfiguration(RecyclerBinderConfiguration.create().hasDynamicItemHeight(true).build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .orientation(OrientationHelper.HORIZONTAL).build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .section(DataDiffSection.create&lt;Int&gt;(SectionContext(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .data(colors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .renderEventHandler(DynamicHeightHscrollComponent.onRender(c))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .canMeasureRecycler(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the short video below, you can see that the h-scroll will remeasure to always adjust height to accommodate the tallest item, but it won&#x27;t collapse to fit a smaller maximum height.</p><video loop="" autoplay="true" controls="" class="video" width="600px" height="100%"><source type="video/mp4" src="/videos/dynamicheight.mov"><p>Your browser does not support the video element.</p></video></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/litho/edit/master/website/../docs/sections/hscrolls.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sections/best-practices/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Best Practices and Performance</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/sections/api-overview/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API 📄: annotations, events and lifecycles<!-- --> »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-the-height-of-a-horizontal-recyclercollectioncomponent" class="table-of-contents__link toc-highlight">Setting the Height of a Horizontal RecyclerCollectionComponent</a><ul><li><a href="#fixed-height-method" class="table-of-contents__link toc-highlight">Fixed Height Method</a></li><li><a href="#unknown-height-method" class="table-of-contents__link toc-highlight">Unknown Height Method</a></li><li><a href="#dynamic-height-method" class="table-of-contents__link toc-highlight">Dynamic Height Method</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting Started</a></li><li class="footer__item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contributing/">How To Contribute</a></li><li class="footer__item"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/fblitho" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Facebook, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.77f72675.js"></script>
<script src="/assets/js/main.4058c681.js"></script>
</body>
</html>